---
title: "Count all prime numbers"
date: 2024-04-24 15:51:12
categories: ['Math']
layout: post
---

<!-- wp:paragraph -->
<a href="https://leetcode.com/problems/count-primes/" target="_blank" rel="noopener" title=""></a> Count all prime numbers from given n<br>Example 


<!-- /wp:paragraph -->

<!-- wp:preformatted {"style":{"elements":{"link":{"color":{"text":"var:preset|color|black"}}}},"textColor":"black"} -->
<pre class="wp-block-preformatted has-black-color has-text-color has-link-color"><strong>Input:</strong> n = 10<br><strong>Output:</strong> 4<br><strong>Explanation:</strong> There are 4 prime numbers less than 10, they are 2, 3, 5, 7.<br>Solution: using Sieve of Eratosthenes Algo<br>The Sieve of Eratosthenes is an ancient and efficient algorithm for finding all prime numbers up to a specified integer \( n \). It works by iteratively marking the multiples of each prime starting from 2, effectively sieving out the non-prime numbers. Here's how it works step by step:<br><br>1. **Initialization**: Create a boolean array `isPrime` of size `n`, initially setting all values to `true`. This array will serve as our sieve. We'll mark numbers as `false` if they are not prime.<br><br>2. **Starting with 2**: 2 is the first prime number. Mark all of its multiples as `false` in the `isPrime` array, starting from \(2^2\), \(2^2 + 2\), \(2^2 + 4\), and so on up to \(n\). This step will eliminate all even numbers greater than 2, except for 2 itself.<br><br>3. **Next prime**: Find the next number in the array that is still marked as `true`. This will be the next prime number. Let's call it \( p \).<br><br>4. **Mark multiples of \( p \)**: Starting from \( p^2 \), mark all multiples of \( p \) as `false` in the `isPrime` array. These multiples are \( p^2 \), \( p^2 + p \), \( p^2 + 2p \), and so on, up to \( n \).<br><br>5. **Repeat**: Repeat steps 3 and 4 until \( p^2 \) is greater than or equal to \( n \). At this point, all remaining `true` values in the `isPrime` array correspond to prime numbers.<br><br>6. **Counting the primes**: Finally, count the number of `true` values in the `isPrime` array. Each `true` value represents a prime number less than \( n \).<br><br>Let's demonstrate this with an example for \( n = 20 \):<br><br>1. **Initialization**:<br>   - Create `isPrime` array: ``<br><br>2. **Starting with 2**:<br>   - Mark multiples of 2 as `false`: ``<br><br>3. **Next prime (3)**:<br>   - Mark multiples of 3 as `false`: ``<br><br>4. **Next prime (5)**:<br>   - Mark multiples of 5 as `false`: ``<br><br>5. **Next prime (7)**:<br>   - \(7^2 = 49\) is greater than 20, so we stop.<br><br>6. **Counting the primes**:<br>   - Count the number of `true` values: ``<br>   - There are 8 `true` values, so the number of primes less than 20 is 8.</pre>
<!-- /wp:preformatted -->

<!-- wp:kevinbatdorf/code-block-pro {"code":"// TC: O(loglog(n))\n// SC: O(n)\nclass Solution {\n    func countPrimes(_ n: Int) -\u003e Int {\n        \n        guard n \u003e 2 else { return 0 }\n        \n        var count = 0\n        var isPrimeArray = Array(repeating: true, count: n)\n        isPrimeArray = false\n        isPrimeArray = false\n        \n        var current = 2\n        \n        // Sieve of Eratosthenes algorithm\n        while current * current \u0026lt; n {\n            if isPrimeArray {\n                var multiple = 2\n                while current * multiple \u0026lt; n {\n                    isPrimeArray = false\n                    multiple += 1\n                }\n            }\n            current += 1\n        }\n        \n        // Count the prime numbers\n        for i in 2..\u0026lt;n {\n            if isPrimeArray {\n                count += 1\n            }\n        }\n        \n        return count\n    }\n}","codeHTML":"\u003cpre class=\u0022shiki nord\u0022 style=\u0022background-color: #2e3440ff\u0022 tabindex=\u00220\u0022\u003e\u003ccode\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #616E88\u0022\u003e// TC: O(loglog(n))\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #616E88\u0022\u003e// SC: O(n)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003eclass\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #8FBCBB\u0022\u003eSolution\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #ECEFF4\u0022\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9\u0022\u003efunc\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #88C0D0\u0022\u003ecountPrimes\u003c/span\u003e\u003cspan style=\u0022color: #ECEFF4\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9\u0022\u003e_\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9\u0022\u003en\u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003e:\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e Int\u003c/span\u003e\u003cspan style=\u0022color: #ECEFF4\u0022\u003e)\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e -\u0026gt; Int \u003c/span\u003e\u003cspan style=\u0022color: #ECEFF4\u0022\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e        \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e        \u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9\u0022\u003eguard\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9\u0022\u003en\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #B48EAD\u0022\u003e2\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003eelse\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #ECEFF4\u0022\u003e{\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003ereturn\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #B48EAD\u0022\u003e0\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #ECEFF4\u0022\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e        \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e        \u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003evar\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9\u0022\u003ecount\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #B48EAD\u0022\u003e0\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e        \u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003evar\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9\u0022\u003eisPrimeArray\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #88C0D0\u0022\u003eArray\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e(\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9\u0022\u003erepeating\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e: \u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003etrue\u003c/span\u003e\u003cspan style=\u0022color: #ECEFF4\u0022\u003e,\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9\u0022\u003ecount\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e: \u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9\u0022\u003en\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e        \u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9\u0022\u003eisPrimeArray\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003efalse\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e        \u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9\u0022\u003eisPrimeArray\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003efalse\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e        \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e        \u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003evar\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9\u0022\u003ecurrent\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #B48EAD\u0022\u003e2\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e        \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #ECEFF4\u0022\u003e        \u003c/span\u003e\u003cspan style=\u0022color: #616E88\u0022\u003e// Sieve of Eratosthenes algorithm\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e        \u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003ewhile\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9\u0022\u003ecurrent\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003e*\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9\u0022\u003ecurrent\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9\u0022\u003en\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #ECEFF4\u0022\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e            \u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003eif\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9\u0022\u003eisPrimeArray\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #ECEFF4\u0022\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e                \u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003evar\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9\u0022\u003emultiple\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #B48EAD\u0022\u003e2\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e                \u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003ewhile\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9\u0022\u003ecurrent\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003e*\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9\u0022\u003emultiple\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9\u0022\u003en\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #ECEFF4\u0022\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e                    \u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9\u0022\u003eisPrimeArray\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003e=\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003efalse\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e                    \u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9\u0022\u003emultiple\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003e+=\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #B48EAD\u0022\u003e1\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e                \u003c/span\u003e\u003cspan style=\u0022color: #ECEFF4\u0022\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e            \u003c/span\u003e\u003cspan style=\u0022color: #ECEFF4\u0022\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e            \u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9\u0022\u003ecurrent\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003e+=\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #B48EAD\u0022\u003e1\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e        \u003c/span\u003e\u003cspan style=\u0022color: #ECEFF4\u0022\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e        \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #ECEFF4\u0022\u003e        \u003c/span\u003e\u003cspan style=\u0022color: #616E88\u0022\u003e// Count the prime numbers\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e        \u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9\u0022\u003efor\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9\u0022\u003ei\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003ein\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #B48EAD\u0022\u003e2.\u003c/span\u003e\u003cspan style=\u0022color: #ECEFF4\u0022\u003e.\u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9\u0022\u003en\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #ECEFF4\u0022\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e            \u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003eif\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9\u0022\u003eisPrimeArray\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #ECEFF4\u0022\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e                \u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9\u0022\u003ecount\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003e+=\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #B48EAD\u0022\u003e1\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e            \u003c/span\u003e\u003cspan style=\u0022color: #ECEFF4\u0022\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e        \u003c/span\u003e\u003cspan style=\u0022color: #ECEFF4\u0022\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e        \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e        \u003c/span\u003e\u003cspan style=\u0022color: #81A1C1\u0022\u003ereturn\u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e \u003c/span\u003e\u003cspan style=\u0022color: #D8DEE9\u0022\u003ecount\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #D8DEE9FF\u0022\u003e    \u003c/span\u003e\u003cspan style=\u0022color: #ECEFF4\u0022\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\u0022line\u0022\u003e\u003cspan style=\u0022color: #ECEFF4\u0022\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","language":"javascript","theme":"nord","bgColor":"#2e3440ff","textColor":"#d8dee9ff","fontSize":".875rem","fontFamily":"Code-Pro-JetBrains-Mono","lineHeight":"1.25rem","clampFonts":false,"lineNumbers":false,"headerType":"none","disablePadding":false,"footerType":"none","enableMaxHeight":false,"seeMoreType":"","seeMoreString":"","seeMoreAfterLine":"","seeMoreTransition":false,"highlightingHover":false,"lineHighlightColor":"rgba(201, 218, 248, 0.2)","copyButton":true,"copyButtonType":"heroicons","useTabs":false} -->
<div class="wp-block-kevinbatdorf-code-block-pro" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span role="button" tabindex="0" data-code="// TC: O(loglog(n))
// SC: O(n)
class Solution {
    func countPrimes(_ n: Int) -> Int {
        
        guard n > 2 else { return 0 }
        
        var count = 0
        var isPrimeArray = Array(repeating: true, count: n)
        isPrimeArray = false
        isPrimeArray = false
        
        var current = 2
        
        // Sieve of Eratosthenes algorithm
        while current * current < n {
            if isPrimeArray {
                var multiple = 2
                while current * multiple < n {
                    isPrimeArray = false
                    multiple += 1
                }
            }
            current += 1
        }
        
        // Count the prime numbers
        for i in 2..<n {
            if isPrimeArray {
                count += 1
            }
        }
        
        return count
    }
}" style="color:#d8dee9ff;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki nord" style="background-color: #2e3440ff" tabindex="0"><code><span class="line"><span style="color: #616E88">// TC: O(loglog(n))</span></span>
<span class="line"><span style="color: #616E88">// SC: O(n)</span></span>
<span class="line"><span style="color: #81A1C1">class</span><span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">Solution</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #D8DEE9">func</span><span style="color: #D8DEE9FF"> </span><span style="color: #88C0D0">countPrimes</span><span style="color: #ECEFF4">(</span><span style="color: #D8DEE9">_</span><span style="color: #D8DEE9FF"> </span><span style="color: #D8DEE9">n</span><span style="color: #81A1C1">:</span><span style="color: #D8DEE9FF"> Int</span><span style="color: #ECEFF4">)</span><span style="color: #D8DEE9FF"> -> Int </span><span style="color: #ECEFF4">{</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #D8DEE9">guard</span><span style="color: #D8DEE9FF"> </span><span style="color: #D8DEE9">n</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">></span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">2</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">else</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">return</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">0</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">}</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #81A1C1">var</span><span style="color: #D8DEE9FF"> </span><span style="color: #D8DEE9">count</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">=</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">0</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #81A1C1">var</span><span style="color: #D8DEE9FF"> </span><span style="color: #D8DEE9">isPrimeArray</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">=</span><span style="color: #D8DEE9FF"> </span><span style="color: #88C0D0">Array</span><span style="color: #D8DEE9FF">(</span><span style="color: #D8DEE9">repeating</span><span style="color: #D8DEE9FF">: </span><span style="color: #81A1C1">true</span><span style="color: #ECEFF4">,</span><span style="color: #D8DEE9FF"> </span><span style="color: #D8DEE9">count</span><span style="color: #D8DEE9FF">: </span><span style="color: #D8DEE9">n</span><span style="color: #D8DEE9FF">)</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #D8DEE9">isPrimeArray</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">=</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">false</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #D8DEE9">isPrimeArray</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">=</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">false</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #81A1C1">var</span><span style="color: #D8DEE9FF"> </span><span style="color: #D8DEE9">current</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">=</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">2</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span></span>
<span class="line"><span style="color: #ECEFF4">        </span><span style="color: #616E88">// Sieve of Eratosthenes algorithm</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #81A1C1">while</span><span style="color: #D8DEE9FF"> </span><span style="color: #D8DEE9">current</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">*</span><span style="color: #D8DEE9FF"> </span><span style="color: #D8DEE9">current</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1"><</span><span style="color: #D8DEE9FF"> </span><span style="color: #D8DEE9">n</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span></span>
<span class="line"><span style="color: #D8DEE9FF">            </span><span style="color: #81A1C1">if</span><span style="color: #D8DEE9FF"> </span><span style="color: #D8DEE9">isPrimeArray</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span></span>
<span class="line"><span style="color: #D8DEE9FF">                </span><span style="color: #81A1C1">var</span><span style="color: #D8DEE9FF"> </span><span style="color: #D8DEE9">multiple</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">=</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">2</span></span>
<span class="line"><span style="color: #D8DEE9FF">                </span><span style="color: #81A1C1">while</span><span style="color: #D8DEE9FF"> </span><span style="color: #D8DEE9">current</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">*</span><span style="color: #D8DEE9FF"> </span><span style="color: #D8DEE9">multiple</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1"><</span><span style="color: #D8DEE9FF"> </span><span style="color: #D8DEE9">n</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span></span>
<span class="line"><span style="color: #D8DEE9FF">                    </span><span style="color: #D8DEE9">isPrimeArray</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">=</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">false</span></span>
<span class="line"><span style="color: #D8DEE9FF">                    </span><span style="color: #D8DEE9">multiple</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">+=</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">1</span></span>
<span class="line"><span style="color: #D8DEE9FF">                </span><span style="color: #ECEFF4">}</span></span>
<span class="line"><span style="color: #D8DEE9FF">            </span><span style="color: #ECEFF4">}</span></span>
<span class="line"><span style="color: #D8DEE9FF">            </span><span style="color: #D8DEE9">current</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">+=</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">1</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">}</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span></span>
<span class="line"><span style="color: #ECEFF4">        </span><span style="color: #616E88">// Count the prime numbers</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #D8DEE9">for</span><span style="color: #D8DEE9FF"> </span><span style="color: #D8DEE9">i</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">in</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">2.</span><span style="color: #ECEFF4">.</span><span style="color: #81A1C1"><</span><span style="color: #D8DEE9">n</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span></span>
<span class="line"><span style="color: #D8DEE9FF">            </span><span style="color: #81A1C1">if</span><span style="color: #D8DEE9FF"> </span><span style="color: #D8DEE9">isPrimeArray</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span></span>
<span class="line"><span style="color: #D8DEE9FF">                </span><span style="color: #D8DEE9">count</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">+=</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">1</span></span>
<span class="line"><span style="color: #D8DEE9FF">            </span><span style="color: #ECEFF4">}</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">}</span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span></span>
<span class="line"><span style="color: #D8DEE9FF">        </span><span style="color: #81A1C1">return</span><span style="color: #D8DEE9FF"> </span><span style="color: #D8DEE9">count</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">}</span></span>
<span class="line"><span style="color: #ECEFF4">}</span></span></code></pre></div>
<!-- /wp:kevinbatdorf/code-block-pro -->